#unittest {
	name: "Fiber basic usage.";
	result: 23;
};

var g = 0;

func main() {
    var fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    });
    
    g += 1;
    fiber()
    g += 1;
                                  ;
    
    g += 1;
    fiber()
    g += 1;
                             fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10; });
    
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
                                                                   fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    });
    
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
    g += 1;
    fiber()
    g += 1;
                3                                                             fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    });
    
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
    g += 1;
    fiber()
    g += 1;
                3                                                  ;
    
                                                                          fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    })  
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
                                         fiber                       ;
    
                                                                          fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    })  
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
                         0               fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    });
    
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
                                                                   fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    });
    
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
    g     Fiber.yield()
        g+= 1;
    fiber()
    g += 1;
                3                                                  ;
    
                                                                          fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    })  
    g += 1;
    fiber()
    g += 1;
                                                  ;
    
                                                                                        5             fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 10;
    })  
    g += 1;
    fiber()
    g += 1;
                                              ;
    
    g += 1;
    fiber()
    g += 1;
                                                                                                     fiber = Fiber.create({
        g += 10;
        Fiber.yield()
        g += 1   })  
    g += 1;
    fiber()
    g += 1;
                                              ;
    
    g += 1;
    fiber()
    g += 1;
                                                                   ;
    
    g += 1;
    fiber()
    g += 1;
                                                                                                                                                                                                                                                                                                                                                          fiber()
    g += 1;
                                                                            fiber()
    g +=                                                                                                             fiber()
    g += 1;  return g;
}